
GAS LISTING ret.s 			page 1


   1              		.global	_start
   2              		.text
   3              	_start:	
   4              		## 引数をスタックに積まずにサブルーチン呼び出し
   5 0000 E8200000 		call	subr
   5      00
   6              		## 引数をスタックに 1 つ積んでサブルーチン呼び出し
   7 0005 68785634 		pushl	$0x12345678
   7      12
   8 000a E8170000 		call	subr1
   8      00
   9              		## 引数をスタックに 2 つ積んでサブルーチン呼び出し
  10 000f 68785634 		pushl	$0x12345678
  10      12
  11 0014 68F0DEBC 		pushl	$0x9abcdef0
  11      9A
  12 0019 E80B0000 		call	subr2
  12      00
  13              		
  14 001e B8010000 		movl	$1, %eax
  14      00
  15 0023 CD80     		int	$0x80
  16              		
  17              	subr:	## 呼び出し元にリターン
  18 0025 C3       		ret
  19              		
  20              	subr1:	## リターンし、スタック上の引数を1つ捨てる
  21 0026 C20400   		ret	$4
  22              	
  23              	subr2:	## リターンし、スタック上の引数を2つ捨てる
  24 0029 C20800   		ret	$8
  25              		
  26              		.data
  27 0000 25000000 	val_l:	.long	subr			#サブルーチンのアドレスを格納
